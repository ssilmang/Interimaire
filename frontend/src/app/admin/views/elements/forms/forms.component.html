<div >
  
  <form action="" class="" [formGroup]="formPermanent" (ngSubmit)="enregistrer()">
     <div class="card">
         @if(message){
            <app-modal
            [show]="showModal"
            [footer]="footer"
            [close]="close"
             >
             <app-alert [show]="true"  [dismissible]="true"  [type]="alertType.Success">
              <h6 class="text-lg font-semibold">
                  <i class="bi bi-check2-circle"></i>
                  Succés
              </h6>
              <p>
                {{ message }}
              </p>
           </app-alert>
           </app-modal>
         }
           @if(messageError){
            <app-modal
            [show]="showModal"
            [footer]="footer"
            [close]="close"
             >
               <app-alert [show]="true" [dismissible]="true" [type]="alertType.Danger">
                  <h6 class="text-lg font-semibold">
                     <i class="bi bi-bug"></i>
                     Danger
                  </h6>
                  <p>
                     {{ messageError }}
                  </p>
            </app-alert>
            </app-modal>
           }
           @if(messageAttention){
            <app-modal
            [show]="showModal"
            [footer]="footer"
            [close]="close"
             >
               <app-alert [show]="true" [dismissible]="true" [type]="alertType.Warning">
                  <h6 class="text-lg font-semibold">
                     <i class="bi bi-exclamation-triangle"></i>
                     Warning
                  </h6>
                  <p>
                     {{messageAttention}}
                  </p>
            </app-alert>
            </app-modal>
           }
           @if(messageInfo){
            <app-modal
            [show]="showModal"
            [footer]="footer"
            [close]="close"
             >
               <app-alert [show]="true" [dismissible]="true" [type]="alertType.Info">
                  <h6 class="text-lg font-semibold">
                     <i class="bi bi-exclamation-circle"></i>
                     Info
                  </h6>
                  <p>
                     {{messageInfo}}
                  </p>
             </app-alert>
            </app-modal>
           }
         <div class="card-title text-center">
            <h3 class="text-xl font-bold leading-none"></h3>
         </div>
         <div class="mt-4">
            <div class="max-w-full p-2">
               <div class="flex space-x-16">
                  <div class="grid grid-cols-12 mt-[-25px]  gap-x-6 ">         
                     <div class="col-span-1 mt-4 md:col-span-6">
                        <div class="form-group">
                           <label for="prenom" class="form-label required"> Prénom</label>
                           <input type="text" formControlName="prenom" id="prenom" placeholder="Massar " class="form-control"
                           [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('prenom')?.invalid &&(formPermanent.get('prenom')?.touched || formPermanent.get('prenom')?.dirty),
                           'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('prenom')?.valid &&(formPermanent.get('prenom')?.touched || formPermanent.get('prenom')?.dirty)}"         
                           />
                           @if(formPermanent.get('prenom')?.invalid && formPermanent.get('prenom')?.touched){
                              @if(formPermanent.get('prenom')?.hasError('required')){                             
                                    <div class="text-red-500 text-xs">Le prenom est obligatoire</div>
                            }
                          }
                          @if(formPermanent.get('prenom')?.hasError('maxLength')){
                              <div  class="text-red-600 text-xs">
                                 Taille maximum 100
                              </div>
                          }
                          @if(formPermanent.get('prenom')?.hasError('pattern')){
                              <div  class="text-red-600 text-xs">
                                Doit contenir que des caractères
                              </div>
                          }
                          @if(formPermanent.get('prenom')?.hasError('minLength')){
                              <div  class="text-red-600 text-xs">
                                Taille minimum 2
                              </div>
                          }
                        </div>
                     </div>
                     <div class="col-span-1  md:col-span-6 mt-4">
                        <div class="form-group">
                           <label for="nom" class="form-label required"> Nom</label>
                           <input type="text" formControlName="nom" id="nom" placeholder="Ndime" class="form-control"
                           [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('nom')?.invalid &&(formPermanent.get('nom')?.touched || formPermanent.get('nom')?.dirty),
                           'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('nom')?.valid &&(formPermanent.get('nom')?.touched || formPermanent.get('nom')?.dirty)}"
              
                           />
                           @if(formPermanent.get('nom')?.invalid && formPermanent.get('nom')?.touched){
                              @if(formPermanent.get('nom')?.hasError('required')){
                                
                                    <div class="text-red-500 text-xs">Le nom est obligatoire</div>
                            }
                          }
                          @if(formPermanent.get('nom')?.hasError('maxLength')){
                              <div  class="text-red-600 text-xs">
                                 Taille maximum 50
                              </div>
                          }
                          @if(formPermanent.get('nom')?.hasError('pattern')){
                              <div  class="text-red-600 text-xs">
                                Doit contenir que des caractères
                              </div>
                          }
                          @if(formPermanent.get('nom')?.hasError('minLength')){
                              <div  class="text-red-600 text-xs">
                                Taille minimum 2
                              </div>
                          }
                        </div>
                     </div>
                     <div class="col-span-1 md:col-span-6">
                        <div class="form-group">
                           <label for="email" class="form-label required"> Email</label>
                           <input type="text" formControlName="email" id="email" placeholder="massar@email.com" class="form-control"
                           [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('email')?.invalid &&(formPermanent.get('email')?.touched || formPermanent.get('email')?.dirty),
                           'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('email')?.valid &&(formPermanent.get('email')?.touched || formPermanent.get('email')?.dirty)}"
              
                           />
                           @if(formPermanent.get('email')?.invalid && formPermanent.get('email')?.touched){
                              @if(formPermanent.get('email')?.hasError('required')){
                                
                                    <div class="text-red-500 text-xs">L'adresse email est obligatoire</div>
                            }
                          }
                          @if(formPermanent.get('email')?.errors){
                            @if(formPermanent.get('email')?.hasError('pattern')){
                                <div  class="text-red-600 text-xs">
                                  Doit contenir que des caractere
                                </div>
                            }
                            @if (formPermanent.get('email')?.hasError('email')) {
                                <div class="text-red-500 text-xs">Email invalide</div>
                            }
                          }
                        </div>
                     </div>
                     <div class="col-span-1 md:col-span-6 ">
                        <div class="form-group">
                           <label for="matricule" class="form-label required"> Matricule</label>
                           <input type="text" formControlName="matricule" id="matricule" placeholder="AZER234" class="form-control"
                           [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('matricule')?.invalid &&(formPermanent.get('matricule')?.touched || formPermanent.get('matricule')?.dirty),
                           'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('matricule')?.valid &&(formPermanent.get('matricule')?.touched || formPermanent.get('matricule')?.dirty)}"
              
                           />
                           @if(formPermanent.get('matricule')?.invalid && formPermanent.get('matricule')?.touched){
                              @if(formPermanent.get('matricule')?.hasError('required')){
                                
                                    <div class="text-red-500 text-xs">Le matricule est obligatoire</div>
                             }
                           }
                            @if(formPermanent.get('matricule')?.hasError('pattern')){
                              <div  class="text-red-600 text-xs">
                                Doit contenir que des lettres et des chiffres
                              </div>
                           }
                        </div>
                     </div>
                     <div class="col-span-12 md:col-span-12">
                        <div class="form-group">
                           <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" for="user_contrat">
                           Télécharger Contrat
                           </label>
                           <input class="file-upload file" formControlName="contrat" aria-describedby="user_avatar_help" id="user_contrat" type="file">   
                        </div> 
                     </div>
                     
                  </div>
                  <div class="col-span-1 md:col-span-8 mb-4">
                     <div class="col-span-full">
                        <label for="cover-photo" class="block text-sm font-medium leading-6 text-gray-900">
                        
                        </label>
                        <div class="mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-4 py-5">
                           <div class="text-center">
                              <div class="  flex text-sm leading-6 text-gray-600">
                                 <label for="img" class="image-frame">
                                    <img [src]="avatars"  class="w-44 h-44 object-contain"  alt=""   >                              
                                    <input type="file" id="img" formControlName="photo"  (change)="selectedAvatar($event)" style="display: none;" 
                                    [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('photo')?.invalid &&(formPermanent.get('photo')?.touched || formPermanent.get('photo')?.dirty),
                                    'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('photo')?.valid &&(formPermanent.get('photo')?.touched || formPermanent.get('photo')?.dirty)}"
                       
                                    />
                                </label>
                              </div>
                           </div>
                        </div>
                     
                     </div>
                  </div>
               </div>
               <div class="grid grid-cols-3 gap-x-5 col-span-1 mb-3">
                  <div class="form-group ">
                     <label for="telephone" class="form-label required"> Téléphone </label>
                     <input type="text" (input)="getnum($event)" formControlName="telephone" id="telephone" placeholder="772314567" class="form-control form-control-lg"
                     [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('telephone')?.invalid &&(formPermanent.get('telephone')?.touched || formPermanent.get('telephone')?.dirty),
                     'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('telephone')?.valid &&(formPermanent.get('telephone')?.touched || formPermanent.get('telephone')?.dirty)}"
        
                     />
                     @if(formPermanent.get('telephone')?.invalid && formPermanent.get('telephone')?.touched){
                        @if(formPermanent.get('telephone')?.hasError('required')){
                          
                              <div class="text-red-500 text-xs">Le téléphone est obligatoire</div>
                       }
                     }
                      @if(formPermanent.get('telephone')?.hasError('pattern')){
                        <div  class="text-red-600 text-xs">
                          Doit contenir que des chiffres
                        </div>
                     }
                  </div>
                  <div class="form-group">
                     <label for="telephone_pro" class="form-label "> Téléphone Pro </label>
                     <input type="text" (input)="getPro($event)" formControlName="telephone_pro" id="telephone_pro" placeholder="339865432" class="form-control form-control-lg" />
                  </div>       
                  <div class="form-group ">
                     <label for="adresse" class="form-label required"> Adresse </label>
                     <input type="text" formControlName="adresse" id="adresse" placeholder="Sacré-Coeur" class="form-control form-control-lg" />
                     @if(formPermanent.get('adresse')?.invalid && formPermanent.get('adresse')?.touched){
                        @if(formPermanent.get('adresse')?.hasError('required')){
                          
                              <div class="text-red-500 text-xs">Le adresse est obligatoire</div>
                       }
                     }
                      @if(formPermanent.get('adresse')?.hasError('pattern')){
                        <div  class="text-red-600 text-xs">
                          Doit contenir que des lettres et des chiffres
                        </div>
                     }
                  </div>
               </div>  
            </div>
         </div>
      </div>
      <div class="card p-3">
         <div class="flex  justify-around">
            <div class="card-title ml-[-105px]">
               <label for="statut" class="form-label  required"> Statut </label>
            </div>
            <div class="card-title">
               <label for="base-input" class="form-label required">Poste</label>
            </div> 
         </div>
         <div class="mt-2 flex justify-around space-x-24">
            <div class="max-w-screen-md w-96">
               <label for="statut" class="form-label">
               </label>
               @if(!autreStatut){
                  <select id="statut"  (click)="selectedStatut($event)" formControlName="statut"  class="form-select col-span-2" [compareWith]="compare"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('statut')?.invalid &&(formPermanent.get('statut')?.touched || formPermanent.get('statut')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('statut')?.valid &&(formPermanent.get('statut')?.touched || formPermanent.get('statut')?.dirty)}"
     
                  >
                     <option value="" selected disabled>Selectionner un statut</option>
                     @for(statut of dataAll?.statuts;track statut?.id){
                        <option [ngValue]="statut">{{ statut?.libelle }}</option>   
                     }
                     <option value="Autre">autre</option>
                  </select>
                  @if(formPermanent.get('statut')?.invalid && formPermanent.get('statut')?.touched){
                     @if(formPermanent.get('statut')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le statut est obligatoire</div>
                   }
                 }
               }@else{
                  <input type="text"   formControlName="statut"  placeholder="Massar " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('statut')?.invalid &&(formPermanent.get('statut')?.touched || formPermanent.get('statut')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('statut')?.valid &&(formPermanent.get('statut')?.touched || formPermanent.get('statut')?.dirty)}"
     
                  />
                  @if(formPermanent.get('statut')?.invalid && formPermanent.get('statut')?.touched){
                     @if(formPermanent.get('statut')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le statut est obligatoire</div>
                   }
                 }
               }
            </div>
            <div class="max-w-screen-md  w-full">
               <label for="poste" class="form-label">
               </label>
               @if(!autrePoste){
                  <select id="poste" (click)="selectedPoste($event)" formControlName="poste" class="form-select" [compareWith]="compare"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('poste')?.invalid &&(formPermanent.get('poste')?.touched || formPermanent.get('poste')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('poste')?.valid &&(formPermanent.get('poste')?.touched || formPermanent.get('poste')?.dirty)}"
     
                  >
                     <option value="" selected disabled>Selectionner un poste</option>
                     @for(poste of dataAll?.postes;track poste?.id){
                        <option [ngValue]="poste">{{ poste?.libelle }}</option>   
                     }
                     <option value="Autre">autre</option>
                  </select>
                  @if(formPermanent.get('poste')?.invalid && formPermanent.get('poste')?.touched){
                     @if(formPermanent.get('poste')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le poste est obligatoire</div>
                   }
                 }
               }@else{
                  <input type="text"   formControlName="poste"  placeholder="Massar " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('poste')?.invalid &&(formPermanent.get('poste')?.touched || formPermanent.get('poste')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('poste')?.valid &&(formPermanent.get('poste')?.touched || formPermanent.get('poste')?.dirty)}"
                  />
                  @if(formPermanent.get('poste')?.invalid && formPermanent.get('poste')?.touched){
                     @if(formPermanent.get('poste')?.hasError('required')){             
                           <div class="text-red-500 text-xs">Le poste est obligatoire</div>
                   }
                 }
                
               }
            </div>
         </div>
         @if(interimaire && kangourou){
            <div class="flex  justify-around">
               <div class="card-title ml-[-105px]">
                  <label for="statut" class="form-label  required"> Durée kangourou </label>
               </div>
               <div class="card-title">
                  <label for="base-input" class="form-label required">Montant kangourou</label>
               </div> 
            </div>
            <div class="mt-2 flex justify-around space-x-24">
               <div class="max-w-screen-md w-96">
                  <label for="statut" class="form-label">
                  </label>
                  <input type="number"   formControlName="duree_kangourou"  placeholder="30" class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('duree_kangourou')?.invalid &&(formPermanent.get('duree_kangourou')?.touched || formPermanent.get('duree_kangourou')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('duree_kangourou')?.valid &&(formPermanent.get('duree_kangourou')?.touched || formPermanent.get('duree_kangourou')?.dirty)}"
     
                  />
                     @if(formPermanent.get('duree_kangourou')?.invalid && formPermanent.get('duree_kangourou')?.touched){
                        @if(formPermanent.get('duree_kangourou')?.hasError('required')){
                          
                              <div class="text-red-500 text-xs">Ce champs est obligatoire</div>
                      }
                    }
               </div>
               <div class="max-w-screen-md  w-full">
                  <label for="poste" class="form-label">
                  </label>
                  <input type="text" (input)="numberSpace($event)"  formControlName="montant_kangourou"  placeholder="30000" class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('montant_kangourou')?.invalid &&(formPermanent.get('montant_kangourou')?.touched || formPermanent.get('montant_kangourou')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('montant_kangourou')?.valid &&(formPermanent.get('montant_kangourou')?.touched || formPermanent.get('montant_kangourou')?.dirty)}"
     
                  />
                     @if(formPermanent.get('montant_kangourou')?.invalid && formPermanent.get('montant_kangourou')?.touched){
                        @if(formPermanent.get('montant_kangourou')?.hasError('required')){
                          
                              <div class="text-red-500 text-xs">Ce champs est obligatoire</div>
                      }
                    }
               </div>
            </div>
         }
         <div class="flex justify-around mt-5">
            <!-- @if(!interimaire){ -->
               <div class="card-title">
                  <label for="base-input" class="form-label required">Groupe</label>
               </div>
               <div class="card-title">
                  <label for="categorie" class="form-label required"> Categorie </label>
               </div>
            <!-- } -->
            <div class="card-title ">
               <label for="agence" class="form-label required"> Employeur </label>          
            </div>
           @if(interimCategorie && !autreAgence){
            <div class="card-title ">
               <label for="agence" class="form-label-  required"> Categorie d'intérim </label>          
            </div>
           }
           @if (interimaire && autreAgence){
            <div class="card-title ">
               <label for="agence" class="form-label-  required"> Categorie </label>          
            </div>
            <div class="card-title ">
               <label for="agence" class="form-label-  required"> Coût unitaire </label>          
            </div>
           }
         </div>
         <div class="mt-2 flex justify-around space-x-16">
           <!-- @if(!interimaire){ -->
            <div class="max-w-screen-md w-full">
               <label for="groupe" class="form-label">      
               </label>
               @if(!autreGroupe){
                  <select id="groupe"(click)="selectedGroupe($event)" formControlName="groupe" class="form-select" [compareWith]="compare"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('groupe')?.invalid &&(formPermanent.get('groupe')?.touched || formPermanent.get('groupe')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('groupe')?.valid &&(formPermanent.get('groupe')?.touched || formPermanent.get('groupe')?.dirty)}"
     
                  >
                     <option value="" selected disabled>Selectionner un groupe</option>
                     @for(groupe of dataAll?.groupes;track groupe?.id){
                        <option [ngValue]="groupe">{{ groupe?.libelle }}</option>   
                     }
                     <option value="Autre">autre</option>
                  </select>
                  @if(formPermanent.get('groupe')?.invalid && formPermanent.get('groupe')?.touched){
                     @if(formPermanent.get('groupe')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le statut est obligatoire</div>
                   }
                 }
               }@else{
                  <input type="text"   formControlName="groupe"  placeholder="Massar " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('groupe')?.invalid &&(formPermanent.get('groupe')?.touched || formPermanent.get('groupe')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('groupe')?.valid &&(formPermanent.get('groupe')?.touched || formPermanent.get('groupe')?.dirty)}"    
                  />
                  @if(formPermanent.get('groupe')?.invalid && formPermanent.get('groupe')?.touched){
                     @if(formPermanent.get('groupe')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le groupe est obligatoire</div>
                   }
                 }
               }
            </div>
            <div class="max-w-screen-md w-full">
               <label for="categorie" class="form-label">      
               </label>
               @if(!autreCategorie){
                  <select  formControlName="categorie" (click)="selectedCategorie($event)" id="categorie" class="form-select" [compareWith]="compare"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('categorie')?.invalid &&(formPermanent.get('categorie')?.touched || formPermanent.get('categorie')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('categorie')?.valid &&(formPermanent.get('categorie')?.touched || formPermanent.get('categorie')?.dirty)}"
     
                  >
                     <option value="" disabled select>Selectionner un Catégorie</option>
                     @for(categorie of dataAll?.categories;track categorie?.id){
                        <option [ngValue]="categorie">{{ categorie?.libelle }}</option>                
                     }
                     <option value="Autre">autre</option>
                  </select>
                  @if(formPermanent.get('categorie')?.invalid && formPermanent.get('categorie')?.touched){
                     @if(formPermanent.get('categorie')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le categorie est obligatoire</div>
                   }
                 }
               }@else{
                  <input type="text"   formControlName="categorie"  placeholder="Massar " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('categorie')?.invalid &&(formPermanent.get('categorie')?.touched || formPermanent.get('categorie')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('categorie')?.valid &&(formPermanent.get('categorie')?.touched || formPermanent.get('categorie')?.dirty)}"
                  />
                  @if(formPermanent.get('categorie')?.invalid && formPermanent.get('categorie')?.touched){
                     @if(formPermanent.get('categorie')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le categorie est obligatoire</div>
                   }
                 }
               }
            </div>
           <!-- } -->
            <div class="max-w-screen-md w-full">
               <label for="agence" class="form-label">    
               </label>
              @if(!autreAgence){
               <select id="agence" (click)="selectedAgence($event)" formControlName="agence" class="form-select" [compareWith]="compare"
               [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('agence')?.invalid &&(formPermanent.get('agence')?.touched || formPermanent.get('agence')?.dirty),
               'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('agence')?.valid &&(formPermanent.get('agence')?.touched || formPermanent.get('agence')?.dirty)}"
               >
                  <option value="" selected disabled>Selectionner un employeur</option>
                  @for(agence of dataAll?.agences;track agence?.id){
                     <option [ngValue]="agence">{{ agence?.libelle }}</option>   
                  }
                  <option value="Autre">autre</option>
               </select>
               @if(formPermanent.get('agence')?.invalid && formPermanent.get('agence')?.touched){
                  @if(formPermanent.get('agence')?.hasError('required')){
                    
                        <div class="text-red-500 text-xs">L'agence est obligatoire</div>
                }
              }
              }@else{
               
               <input type="text"   formControlName="agence"  placeholder="Permanent" class="form-control"
               [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('agence')?.invalid &&(formPermanent.get('agence')?.touched || formPermanent.get('agence')?.dirty),
               'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('agence')?.valid &&(formPermanent.get('agence')?.touched || formPermanent.get('agence')?.dirty)}"
               />
                  @if(formPermanent.get('agence')?.invalid && formPermanent.get('agence')?.touched){
                     @if(formPermanent.get('agence')?.hasError('required')){
                     
                           <div class="text-red-500 text-xs">L'agence est obligatoire</div>
                  }
               }
              }
            </div>
            @if (interimaire && autreAgence){
               <div class="max-w-screen-md w-full">
                  <label for="agence" class="form-label">    
                  </label>
                  <input type="text"   formControlName="interimaireCategorie"  placeholder="AB1" class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('interimaireCategorie')?.invalid &&(formPermanent.get('interimaireCategorie')?.touched || formPermanent.get('interimaireCategorie')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('interimaireCategorie')?.valid &&(formPermanent.get('interimaireCategorie')?.touched || formPermanent.get('interimaireCategorie')?.dirty)}"
                  />
                  @if(formPermanent.get('interimCategorie')?.invalid && formPermanent.get('interimCategorie')?.touched){
                     @if(formPermanent.get('interimCategorie')?.hasError('required')){
                     
                           <div class="text-red-500 text-xs">Ce champs est obligatoire</div>
                     }
                  }
               </div>
               <div class="max-w-screen-md w-full">
                  <label for="agence" class="form-label">    
                  </label>
                     <input type="text" (input)="numberSpace($event)"  formControlName="cout_unitaire"  placeholder="150 000" class="form-control"
                     [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('cout_unitaire')?.invalid &&(formPermanent.get('cout_unitaire')?.touched || formPermanent.get('cout_unitaire')?.dirty),
                     'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('cout_unitaire')?.valid &&(formPermanent.get('cout_unitaire')?.touched || formPermanent.get('cout_unitaire')?.dirty)}"
                     />
                     @if(formPermanent.get('cout_unitaire')?.invalid && formPermanent.get('cout_unitaire')?.touched){
                        @if(formPermanent.get('cout_unitaire')?.hasError('required')){
                        
                              <div class="text-red-500 text-xs">Ce champs est obligatoire</div>
                        }
                     }
               </div>
            }
           
               @if(interimCategorie && !autreAgence){
                  <div class="max-w-screen-md w-full">
                     <label for="agence" class="form-label">    
                     </label>
                     <select id="agence"  formControlName="categorieInterim" class="form-select"  [compareWith]="compare"
                     [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('categorieInterim')?.invalid &&(formPermanent.get('categorieInterim')?.touched || formPermanent.get('categorieInterim')?.dirty),
                     'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('categorieInterim')?.valid &&(formPermanent.get('categorieInterim')?.touched || formPermanent.get('categorieInterim')?.dirty)}"
                     >
                        <option value="" selected disabled>Selectionner un agence d'interim</option>
                        @for(categorie of dataAgence?.categories;track categorie?.id){
                           <option [ngValue]="categorie">{{ categorie?.libelle }}</option>   
                        }
                        <option value="Autre">autre</option>
                     </select>
                     @if(formPermanent.get('categorieInterim')?.invalid && formPermanent.get('categorieInterim')?.touched){
                        @if(formPermanent.get('categorieInterim')?.hasError('required')){
                          
                              <div class="text-red-500 text-xs">categorie intérim est obligatoire</div>
                      }
                    }
                    <!-- }@else{
                     <input type="text"   formControlName="agence"  placeholder="Permanent" class="form-control"
                     [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('agence')?.invalid &&(formPermanent.get('agence')?.touched || formPermanent.get('agence')?.dirty),
                     'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('agence')?.valid &&(formPermanent.get('agence')?.touched || formPermanent.get('agence')?.dirty)}"
                     /> -->
                  </div>
               }
             
             
         </div>
        
      </div> 
      <div class="card p-4">
        @if(!interimaire){
         <div class="flex justify-around">
            <div class="card-title">
               <label for="base-input" class="form-label required">Lieu d'execution</label>
            </div>
            <div class="card-title">
               <label for="base-input" class="form-label required">Canal</label>
            </div>
            <div class="card-title">
               <label for="base-input" class="form-label required">Direction</label>
            </div>
         </div>
         <div class="mt-2 flex justify-between space-x-16">
            <div class="max-w-screen-md w-full">
               <label for="lieu" class="form-label">
               </label>
               @if(!autreLocau){
                  <select id="lieu" (click)="selectedLocau($event)" formControlName="locau" class="form-select" [compareWith]="compare"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('locau')?.invalid &&(formPermanent.get('locau')?.touched || formPermanent.get('locau')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('locau')?.valid &&(formPermanent.get('locau')?.touched || formPermanent.get('locau')?.dirty)}"
                  >
                     <option value="">Selectionner un lieu</option>
                    @for(locau of dataAll?.locaux;track locau?.id){
                     <option [ngValue]="locau">{{ locau?.libelle }}</option>
                    }
                     <option value="Autre">autre</option>
                  </select>
                  @if(formPermanent.get('locau')?.invalid && formPermanent.get('locau')?.touched){
                     @if(formPermanent.get('locau')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le lieu d'exécution est obligatoire</div>
                   }
                 }
               }@else{
                  <input type="text"   formControlName="locau"  placeholder="Massar " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('locau')?.invalid &&(formPermanent.get('locau')?.touched || formPermanent.get('locau')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('locau')?.valid &&(formPermanent.get('locau')?.touched || formPermanent.get('locau')?.dirty)}"
                  />
                  @if(formPermanent.get('locau')?.invalid && formPermanent.get('locau')?.touched){
                     @if(formPermanent.get('locau')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le lieu d'exécution est obligatoire</div>
                   }
                 }
               }
            </div>
            <div class="max-w-screen-md  w-full">
               <label for="canal" class="form-label">
               </label>
               @if(!autreCanal){
                  <select id="canal" (click)="selectedCanal($event)" formControlName="canal" class="form-select" [compareWith]="compare"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('canal')?.invalid &&(formPermanent.get('canal')?.touched || formPermanent.get('canal')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('canal')?.valid &&(formPermanent.get('canal')?.touched || formPermanent.get('canal')?.dirty)}"
                  >
                     <option value="" selected disabled>Selectionner un Canal</option>
                     @for(canal of dataAll?.canals;track canal?.id){
                        <option [ngValue]="canal">{{ canal?.libelle }}</option>   
                     }
                     <option value="Autre">autre</option>
                  </select>
                  @if(formPermanent.get('canal')?.invalid && formPermanent.get('canal')?.touched){
                     @if(formPermanent.get('canal')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le canal est obligatoire</div>
                   }
                 }
               }@else{
                  <input type="text"   formControlName="canal"  placeholder="entrez une canal " class="form-control" 
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('canal')?.invalid &&(formPermanent.get('canal')?.touched || formPermanent.get('canal')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('canal')?.valid &&(formPermanent.get('canal')?.touched || formPermanent.get('canal')?.dirty)}"
                  />
                  @if(formPermanent.get('canal')?.invalid && formPermanent.get('canal')?.touched){
                     @if(formPermanent.get('canal')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le canal est obligatoire</div>
                   }
                 }
               }
            </div>
            <div class="max-w-screen-md  w-full">
               <label for="direction" class="form-label">
               </label>
               @if(!autreDirection){
                 <div class="flex space-x-1">
                    <div class="w-full">
                     <select id="direction" formControlName="direction"  (click)="selectedDirection($event)" class="form-select" [compareWith]="compare"
                     [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('direction')?.invalid &&(formPermanent.get('direction')?.touched || formPermanent.get('direction')?.dirty),
                     'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('direction')?.valid &&(formPermanent.get('direction')?.touched || formPermanent.get('direction')?.dirty)}"
                     >
                        <option value="" selected disabled>Selectionner une direction</option>
                        @for(direction of dataAll?.directions;track direction?.id){
                           <option [ngValue]="direction">{{ direction?.libelle }}</option>   
                        }
                        <option value="Autre">autre</option>
                     </select>
                     @if(formPermanent.get('direction')?.invalid && formPermanent.get('direction')?.touched){
                        @if(formPermanent.get('direction')?.hasError('required')){
                          
                              <div class="text-red-500 text-xs">La direction est obligatoire</div>
                      }
                    }
                    </div>
                     @if(suitedirection){
                        <button type="button" (click)="clickSuitedirection()" class="btn px-2  py-1/2 btn-primary btn-icon ">
                           Suite
                           <svg class="rtl:rotate-180 w-2.5 h-2.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                              fill="none" viewBox="0 0 14 10">
                              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                 d="M1 5h12m0 0L9 1m4 4L9 9" />
                           </svg>
                        </button>
                     }
                 </div>
               }@else{
                  <input type="text"   formControlName="direction"  placeholder="Massar " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('direction')?.invalid &&(formPermanent.get('direction')?.touched || formPermanent.get('direction')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('direction')?.valid &&(formPermanent.get('direction')?.touched || formPermanent.get('direction')?.dirty)}"
                  />
                  @if(formPermanent.get('direction')?.invalid && formPermanent.get('direction')?.touched){
                     @if(formPermanent.get('direction')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">La direction est obligatoire</div>
                   }
                 }
               }
            </div>
         </div>
         @if(poles?.length){
         <div class="flex mt-3 justify-around">
            <div class="card-title">
               <label for="base-input" class="form-label required">Pole</label>
            </div>
            @if(departements?.length){
               <div class="card-title">
                  <label for="base-input" class="form-label required">Département</label>
               </div>
               @if(services?.length){
                  <div class="card-title">
                     <label for="base-input" class="form-label required">Service</label>
                  </div>
               }
            }
         </div>
         }
         <div class="mt-2 flex justify-between space-x-16">
            @if(poles?.length){
               <div class="max-w-screen-md  w-full">
                  <label for="pole" class="form-label">
                  </label>
                  @if(!autrePole){
                    <div class="flex space-x-1">
                       <div class="w-full">
                           <select id="pole" formControlName="pole" (click)="selectedPole($event)" class="form-select" [compareWith]="compare"
                           [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('pole')?.invalid &&(formPermanent.get('pole')?.touched || formPermanent.get('pole')?.dirty),
                           'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('pole')?.valid &&(formPermanent.get('pole')?.touched || formPermanent.get('pole')?.dirty)}"
                           >
                              <option value="" selected disabled>Selectionner une pôle</option>
                           @for(pole of poles;track pole.id){
                              <option [ngValue]="pole">{{ pole.libelle }}</option>
                           }
                              <option value="Autre">Autre</option>
                           </select>
                           @if(formPermanent.get('pole')?.invalid && formPermanent.get('pole')?.touched){
                              @if(formPermanent.get('pole')?.hasError('required')){
                              
                                    <div class="text-red-500 text-xs">Le pole est obligatoire</div>
                           }
                        }
                       </div>
                        @if(suitepole){
                           <button type="button" (click)="clickSuitepole()" class="btn px-2  py-1/2 btn-primary btn-icon ">
                              Suite
                              <svg class="rtl:rotate-180 w-2.5 h-2.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                                 fill="none" viewBox="0 0 14 10">
                                 <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M1 5h12m0 0L9 1m4 4L9 9" />
                              </svg>
                           </button>
                        }
                    </div>
                  }@else{
                     <input type="text"   formControlName="pole"  placeholder="Massar " class="form-control"
                     [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('pole')?.invalid &&(formPermanent.get('pole')?.touched || formPermanent.get('pole')?.dirty),
                     'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('pole')?.valid &&(formPermanent.get('pole')?.touched || formPermanent.get('pole')?.dirty)}"
                      />
                      @if(formPermanent.get('pole')?.invalid && formPermanent.get('pole')?.touched){
                        @if(formPermanent.get('pole')?.hasError('required')){
                        
                                 <div class="text-red-500 text-xs">Le pole est obligatoire</div>
                        }
                     }
                  }
               </div>
            }
            @if(!notExistPole){
               <div class="card-title">
                  <label for="base-input" class="form-label required">Pole</label>
                  <input type="text"   formControlName="pole"  placeholder="entrez une pole " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('pole')?.invalid &&(formPermanent.get('pole')?.touched || formPermanent.get('pole')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('pole')?.valid &&(formPermanent.get('pole')?.touched || formPermanent.get('pole')?.dirty)}"
                  />
               </div>
            }           
           @if(poles?.length && departements?.length){
            <div class="max-w-screen-md w-full">
               <label for="departement" class="form-label">
               </label>
               @if(!autreDepartement){
                <div class="flex space-x-1">
                 <div class="w-full">
                     <select id="departement" formControlName="departement" (click)="selectedDepartement($event)" class="form-select" [compareWith]="compare"
                     [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('department_id')?.invalid &&(formPermanent.get('department_id')?.touched || formPermanent.get('department_id')?.dirty),
                     'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('department_id')?.valid &&(formPermanent.get('department_id')?.touched || formPermanent.get('department_id')?.dirty)}"
                     >
                        <option value="" selected disabled>Selectionner un département</option>
                     @for(departement of departements;track departement.id){
                        <option [ngValue]="departement">{{ departement?.libelle }}</option>
                     }
                        <option value="Autre">Autre</option>
                     </select>
                     @if(formPermanent.get('departement')?.invalid && formPermanent.get('departement')?.touched){
                        @if(formPermanent.get('departement')?.hasError('required')){
                        
                              <div class="text-red-500 text-xs">Le departement est obligatoire</div>
                        }
                     }
                 </div>
                  @if(suiteservice){
                     <button type="button" (click)="clickSuitedepartement()" class="btn px-2  py-1/2 btn-primary btn-icon ">
                        Suite
                        <svg class="rtl:rotate-180 w-2.5 h-2.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                           fill="none" viewBox="0 0 14 10">
                           <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                              d="M1 5h12m0 0L9 1m4 4L9 9" />
                        </svg>
                     </button>
                  }
                </div>
               }@else{
                  <input type="text"   formControlName="departement"  placeholder="Massar " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('departement')?.invalid &&(formPermanent.get('departement')?.touched || formPermanent.get('departement')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('departement')?.valid &&(formPermanent.get('departement')?.touched || formPermanent.get('departement')?.dirty)}"
                  />
                  @if(formPermanent.get('departement')?.invalid && formPermanent.get('departement')?.touched){
                     @if(formPermanent.get('departement')?.hasError('required')){
                     
                           <div class="text-red-500 text-xs">Le departement est obligatoire</div>
                     }
                  }
               }
            </div>
            }
            @if(!notExistDepartement){
               <div class="card-title">
                  <label for="base-input" class="form-label required">Département</label>
                  <input type="text"   formControlName="departement"  placeholder="Entrez un departement " class="form-control"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('departement')?.invalid &&(formPermanent.get('departement')?.touched || formPermanent.get('departement')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('departement')?.valid &&(formPermanent.get('departement')?.touched || formPermanent.get('departement')?.dirty)}"
                  />
                  @if(formPermanent.get('departement')?.invalid && formPermanent.get('departement')?.touched){
                     @if(formPermanent.get('departement')?.hasError('required')){
                     
                           <div class="text-red-500 text-xs">Le departement est obligatoire</div>
                     }
                  }
               </div>
            }
            @if(poles?.length && departements?.length && services?.length){
               <div class="max-w-screen-md w-full">
                  <label for="service" class="form-label">
                  </label>              
                     @if(!autreService){
                        <select id="service" formControlName="service" (click)="selectedService($event)" class="form-select" [compareWith]="compare"
                        [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('service')?.invalid &&(formPermanent.get('service')?.touched || formPermanent.get('service')?.dirty),
                        'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('service')?.valid &&(formPermanent.get('service')?.touched || formPermanent.get('service')?.dirty)}"
                        >
                           <option value="" selected disabled>Selectionner un service</option>
                          @for(service of services;track service.id){
                           <option [ngValue]="service">{{ service?.libelle }}</option>
                          }
                           <option value="Autre">Autre</option>
                        </select> 
                        @if(formPermanent.get('service')?.invalid && formPermanent.get('service')?.touched){
                           @if(formPermanent.get('service')?.hasError('required')){
                             
                                 <div class="text-red-500 text-xs">Le service est obligatoire</div>
                         }
                       }
                     }@else{
                        <input type="text"   formControlName="service"  placeholder="Massar " class="form-control" 
                        [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('service')?.invalid &&(formPermanent.get('service')?.touched || formPermanent.get('service')?.dirty),
                        'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('service')?.valid &&(formPermanent.get('service')?.touched || formPermanent.get('service')?.dirty)}"
                        />
                        @if(formPermanent.get('service')?.invalid && formPermanent.get('service')?.touched){
                           @if(formPermanent.get('service')?.hasError('required')){
                             
                                 <div class="text-red-500 text-xs">Le service est obligatoire</div>
                         }
                       }
                     }
                  
                  
               </div>
            }@if(!notExistService){
               <div class="card-title">
                  <label for="base-input" class="form-label required">Service</label>
                  <input type="text"   formControlName="service"  placeholder="Entrz une service " class="form-control" 
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('service')?.invalid &&(formPermanent.get('service')?.touched || formPermanent.get('service')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('service')?.valid &&(formPermanent.get('service')?.touched || formPermanent.get('service')?.dirty)}"
                  />
                  @if(formPermanent.get('service')?.invalid && formPermanent.get('service')?.touched){
                     @if(formPermanent.get('service')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Le service est obligatoire</div>
                   }
                 }
               </div>
            }
         </div>
         }@else{
            <div class="flex mt-3 justify-around">
               <div class="card-title">
                  <label for="base-input" class="form-label required">Début Contrat</label>
               </div>           
               <div class="card-title mr-6">
                  <label for="base-input" class="form-label required">Fin Contrat</label>
               </div>              
               <div class="card-title mr-24">
                  <label for="base-input" class="form-label  required">Autre Structure</label>
               </div> 
               <div class="card-title mr-24">
                  <label for="base-input" class="form-label   required"> Numéro DA</label>
               </div>  
               <div class="card-title mr-4">
                  <label for="base-input" class="form-label   required">DA Kangourou</label>
               </div>              
            </div>
            <div class="mt-2 flex justify-around space-x-2">
               <div class="max-w-screen-md ">
                  <label for="statut" class="form-label">
                  </label>
                  <input type="date" formControlName="date_debut_contrat" id="tee_pro" placeholder="04/05/2024" class="form-control form-control-lg" 
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('date_debut_contrat')?.invalid &&(formPermanent.get('date_debut_contrat')?.touched || formPermanent.get('date_debut_contrat')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('date_debut_contrat')?.valid &&(formPermanent.get('date_debut_contrat')?.touched || formPermanent.get('date_debut_contrat')?.dirty)}"  
                  />
                  @if(formPermanent.get('date_debut_contrat')?.invalid && formPermanent.get('date_debut_contrat')?.touched){
                     @if(formPermanent.get('date_debut_contrat')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">Date début contrat est obligatoire</div>
                   }
                 }
                  <div *ngIf="formPermanent.controls['date_debut_contrat'].hasError('hors')" class="text-red-500 text-xs">
                     La  date de debut  doit  inférieur à la date de fin.
                   </div>
                   <!-- <div *ngIf="formPermanent.controls['date_debut_contrat'].hasError('error')" class="text-red-500 text-xs">
                     La  date de debut ne doit pas être une date antérieur.
                   </div>
                   <div *ngIf="formPermanent.controls['date_debut_contrat'].hasError('trois')" class="text-red-500 text-xs">
                     La  date de debut doit commencer 3 jours a partir d'aujourd'hui.
                   </div> -->
               </div>
               <div class="max-w-screen-md ">
                  <label for="statut" class="form-label">
                  </label>
                  <input type="date" formControlName="date_fin_contrat" id="tehone_pro" placeholder="05/05/2025" class="form-control form-control-lg" 
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('date_fin_contrat')?.invalid &&(formPermanent.get('date_fin_contrat')?.touched || formPermanent.get('date_fin_contrat')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('date_fin_contrat')?.valid &&(formPermanent.get('date_debut_contrat')?.touched || formPermanent.get('date_debut_contrat')?.dirty)}"  
                  />
                  @if(formPermanent.get('date_fin_contrat')?.invalid && formPermanent.get('date_fin_contrat')?.touched){
                     @if(formPermanent.get('date_fin_contrat')?.hasError('required')){
                        
                           <div class="text-red-500 text-xs">Date fin contrat est obligatoire</div>
                   }
                  <div *ngIf="formPermanent.controls['date_fin_contrat'].hasError('hors')" class="text-red-500 text-xs">
                     La  date de fin  doit  supérieur à la date de debut.
                   </div>
                   <div *ngIf="formPermanent.controls['date_fin_contrat'].hasError('error')" class="text-red-500 text-xs">
                     Le Contrat doit durée maximun deux ans .
                   </div>
                 }
               </div>
               <div class="max-w-screen-md ">
                  <label for="statut" class="form-label">
                  </label>
                  <input type="text" min="0" (input)="numberSpace($event)" formControlName="temps_presence_autre_structure_sonatel" id="telepe_pro" placeholder="3" class="form-control form-control-lg w-32"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('temps_presence_autre_structure_sonatel')?.invalid &&(formPermanent.get('temps_presence_autre_structure_sonatel')?.touched || formPermanent.get('temps_presence_autre_structure_sonatel')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('temps_presence_autre_structure_sonatel')?.valid &&(formPermanent.get('temps_presence_autre_structure_sonatel')?.touched || formPermanent.get('temps_presence_autre_structure_sonatel')?.dirty)}"  
                  />
                  @if(formPermanent.get('temps_presence_autre_structure_sonatel')?.invalid && formPermanent.get('temps_presence_autre_structure_sonatel')?.touched){
                     @if(formPermanent.get('temps_presence_autre_structure_sonatel')?.hasError('required')){
                       
                           <div class="text-red-500 text-xs">temps de presence autre structure est obligatoire</div>
                   }
                 }
               </div>
               <div class="max-w-screen-md">
                  <label for="statut" class="form-label">
                  </label>
                  <input type="text" min="0"  (input)="numberSpace($event)" formControlName="DA" id="DA" placeholder="65432" class="form-control form-control-lg px-2"
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('DA')?.invalid &&(formPermanent.get('DA')?.touched || formPermanent.get('DA')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('DA')?.valid &&(formPermanent.get('DA')?.touched || formPermanent.get('DA')?.dirty)}"  
                  />
               </div>
               <div class="max-w-screen-md">
                  <label for="statut" class="form-label">
                  </label>
                  <input type="text"  (input)="numberSpace($event)" min="0" formControlName="DA_kangourou" id="DA_kangourou" placeholder="65432" class="form-control form-control-lg" 
                  [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('DA_kangourou')?.invalid &&(formPermanent.get('DA_kangourou')?.touched || formPermanent.get('DA_kangourou')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('DA_kangourou')?.valid &&(formPermanent.get('DA_kangourou')?.touched || formPermanent.get('DA_kangourou')?.dirty)}"  
                  />
               </div>
            </div>

         }
         
            <div class="flex justify-between mt-3">
               <div class="card-title">
                  <label for="base-input" class="form-label  required">Rattaché a un responsable</label>
               </div>
               @if(!responsable){
                  <div class="card-title flex justify-end mr-24">
                     <label for="base-input" class="form-label required">Responsable</label>
                  </div>
               }
            </div>
         <div class="mt-2 flex justify-between space-x-16">
            <div  class="max-w-screen-md w-full"> 
               <div  class="flex mt-2 ">
                  <div class="" style="margin-top: -2px;">
                     <span  class="">Non</span>
                  </div>
                  <div>
                     <label  class="ml-2 form-switch">         
                        <input #checkboxRef  (click)="choiceResponsable($event)" id="checkbox" type="checkbox" value=""  class="sr-only peer" />
                        <div class="form-input-switch">
                        </div>
                        <span class="form-check-label">Oui</span>
                     </label>
                  </div>
               </div>
            </div>
            @if(!responsable){
            <div class="max-w-screen-md w-full">         
               <label for="responsable" class="form-label">
               </label>
               <select id="responsable" formControlName="responsable"  class="form-select" [compareWith]="compare"
               [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formPermanent.get('responsable')?.invalid &&(formPermanent.get('responsable')?.touched || formPermanent.get('responsable')?.dirty),
               'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formPermanent.get('responsable')?.valid &&(formPermanent.get('responsable')?.touched || formPermanent.get('responsable')?.dirty)}"
               >
                  <option value="" selected disabled>Selectionner un responsable</option>
               @for(responsable of dataAll?.responsable;track responsable.id){
                  <option [ngValue]="responsable">{{ responsable?.profile?.prenom }} {{ responsable?.profile?.nom }}</option>
               }
                  <option>Autre</option>
               </select>       
               @if(formPermanent.get('responsable')?.invalid && formPermanent.get('responsable')?.touched){
                  @if(formPermanent.get('responsable')?.hasError('required')){
                    
                        <div class="text-red-500 text-xs">Le responsable est obligatoire</div>
                }
              }       
            </div>
            }
         </div>    
         <div class="mt-8 flex  gap-x-6">
            <!-- <button type="button" class="text-sm font-semibold leading-6 text-gray-900">Cancel</button> -->
            <button type="submit"  class="btn {{ color }} btn-sm" >{{enregistre ? 'Enregistrer': 'Modifier' }}</button>
         </div>      
      </div>
  </form>
</div>
   
  