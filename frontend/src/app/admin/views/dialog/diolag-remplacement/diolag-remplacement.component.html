
<h2 mat-dialog-title>
  @if(message!=""){
    <app-alert [show]="true"  [dismissible]="true">
      <h6 class="text-lg font-semibold">
          <i class="bi bi-check2-circle"></i>
          Success
      </h6>
      <p> {{ message }} </p>
  </app-alert>
  }
    <div class="flex justify-end">
        <button mat-dialog-close class="btn rounded-md hover:bg-red-700 hover:text-white px-1 py-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="text-red-700 w-7 h-5 hover:text-white" viewBox="0 0 384 512"><!--!Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path fill="currentColor" d="M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"/></svg>
        </button>
    </div>
</h2>
<mat-dialog-content class="mat-typography overflow-y-hidden">
    <form class="w-full " [formGroup]="formRemplace" >
        <div class="flex flex-wrap -mx-3 mb-6">
          <div class="w-full md:w-1/2 px-3 ">
            <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 required"  for="prenom">
             Prénom
            </label>
            <input formControlName="prenom" class="appearance-none  block w-full bg-gray-200 text-gray-700 border  rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white" id="prenom" type="text" placeholder="Massar"        
            [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('prenom')?.invalid &&(formRemplace.get('prenom')?.touched || formRemplace.get('prenom')?.dirty),
            'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('prenom')?.valid &&(formRemplace.get('prenom')?.touched || formRemplace.get('prenom')?.dirty)}"         
            />
            @if(formRemplace.get('prenom')?.invalid && formRemplace.get('prenom')?.touched){
              @if(formRemplace.get('prenom')?.hasError('required')){
                
                    <div class="text-red-500 text-xs mt-[-15px]">Ce champs est obligatoire</div>
            }
          }
          @if(formRemplace.get('prenom')?.hasError('maxLength')){
              <div  class="text-red-600 text-xs">
                 Taille maximum 50
              </div>
          }
          @if(formRemplace.get('prenom')?.hasError('pattern')){
              <div  class="text-red-600 text-xs">
                Doit contenir que des caractères
              </div>
          }
          @if(formRemplace.get('prenom')?.hasError('minLength')){
              <div  class="text-red-600 text-xs">
                Taille minimum 2
              </div>
          }
        </div>
          <div class="w-full md:w-1/2 px-3">
            <label class="block uppercase tracking-wide required text-gray-700 text-xs font-bold mb-2" for="nom">
              Nom
            </label>
            <input formControlName="nom" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="nom" type="text" placeholder="Doe"
            [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('nom')?.invalid &&(formRemplace.get('nom')?.touched || formRemplace.get('nom')?.dirty),
            'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('nom')?.valid &&(formRemplace.get('nom')?.touched || formRemplace.get('nom')?.dirty)}"

            />
            @if(formRemplace.get('nom')?.invalid && formRemplace.get('nom')?.touched){
               @if(formRemplace.get('nom')?.hasError('required')){
                 
                     <div class="text-red-500 text-xs">Ce champs est obligatoire</div>
             }
           }
           @if(formRemplace.get('nom')?.hasError('maxLength')){
               <div  class="text-red-600 text-xs">
                  Taille maximum 50
               </div>
           }
           @if(formRemplace.get('nom')?.hasError('pattern')){
               <div  class="text-red-600 text-xs">
                 Doit contenir que des caractères
               </div>
           }
           @if(formRemplace.get('nom')?.hasError('minLength')){
               <div  class="text-red-600 text-xs">
                 Taille minimum 2
               </div>
           }
          </div>
        </div>
        <div class="flex flex-wrap -mx-3 mb-3 -mt-7">
          <div class="w-full md:w-1/2 px-3 mb-2 md:mb-0">
            <label class="block uppercase tracking-wide required text-gray-700 text-xs font-bold mb-2" for="matricule">
              Matricule
            </label>
            <input formControlName="matricule" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="matricule" type="text" placeholder="AZQWX231Z"
            [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('matricule')?.invalid &&(formRemplace.get('matricule')?.touched || formRemplace.get('matricule')?.dirty),
            'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('matricule')?.valid &&(formRemplace.get('matricule')?.touched || formRemplace.get('matricule')?.dirty)}"

            />
            @if(formRemplace.get('matricule')?.invalid && formRemplace.get('matricule')?.touched){
               @if(formRemplace.get('matricule')?.hasError('required')){
                 
                     <div class="text-red-500 -mt-2 text-xs">Ce champs est obligatoire</div>
              }
            }
             @if(formRemplace.get('matricule')?.hasError('pattern')){
               <div  class="text-red-600 -mt-2 text-xs">
                 Doit contenir que des lettres et des chiffres
               </div>
            }
           
          </div>
          <div class="w-full md:w-1/2 px-3">
            <label class="block uppercase required tracking-wide text-gray-700 text-xs font-bold mb-2" for="grid-password">
              Email
            </label>
            <input formControlName="email" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="email" type="text" placeholder="sarrpc@gmail.com"
            [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('email')?.invalid &&(formRemplace.get('email')?.touched || formRemplace.get('email')?.dirty),
                        'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('email')?.valid &&(formRemplace.get('email')?.touched || formRemplace.get('email')?.dirty)}"
              
            />
            @if(formRemplace.get('email')?.invalid && formRemplace.get('email')?.touched){
                @if(formRemplace.get('email')?.hasError('required')){
                
                    <div class="text-red-500 -mt-2 text-xs">Ce champs est obligatoire</div>
            }
            }
            @if(formRemplace.get('email')?.errors){
            @if(formRemplace.get('email')?.hasError('pattern')){
                <div  class="text-red-600 -mt-2 text-xs">
                    Doit contenir que des caractere
                </div>
            }
            @if (formRemplace.get('email')?.hasError('email')) {
                <div class="text-red-500 -mt-2 text-xs">Email invalide</div>
            }
            }

          </div>
        </div>
        <div class="flex flex-wrap -mx-3 -mt-4 -m-2 mb-6">
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase required tracking-wide text-gray-700 text-xs font-bold mb-2" for="telephone">
                Téléphone
              </label>
              <input formControlName="telephone" (input)="getnum($event)" phoneMask class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="telephone" type="text" placeholder="771001220"
              [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('telephone')?.invalid &&(formRemplace.get('telephone')?.touched || formRemplace.get('telephone')?.dirty),
              'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('telephone')?.valid &&(formRemplace.get('telephone')?.touched || formRemplace.get('telephone')?.dirty)}"
              
              />
              @if(formRemplace.get('telephone')?.invalid && formRemplace.get('telephone')?.touched){
                 @if(formRemplace.get('telephone')?.hasError('required')){
                   
                       <div class="text-red-500 text-xs text-nowrap">Ce champs est obligatoire</div>
                }
              }
               @if(formRemplace.get('telephone')?.hasError('pattern')){
                <div class="text-red-500 text-xs text-nowrap" >
                  Numéro de téléphone invalide.
                  <!-- Doit commencer par 77, 78, 76, 70, ou 75 et contenir 9 chiffres -->
                </div>
              }
            </div>
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="telephone_pro">
                Téléphone pro
              </label>
              <input formControlName="telephone_pro" (input)="getPro($event)" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="telephone_pro" type="text" placeholder="338900097">
              <!-- <div class="relative">
                <select class="block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="grid-state">
                  <option>New Mexico</option>
                  <option>Missouri</option>
                  <option>Texas</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                  <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                </div>
              </div> -->
            </div>
            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
              <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="adresse">
                Adresse
              </label>
              <input formControlName="adresse" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="adresse" type="text" placeholder="Nguekokh">
            </div>
          </div>
        <div class="flex flex-wrap -mx-3 -m-3 -mt-5 mb-2">
          <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
            <label class="block uppercase required tracking-wide text-gray-700 text-xs font-bold mb-2" for="date_debut">
             Date début
            </label>
            <input formControlName="date_debut_contrat" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="date_debut" type="date" placeholder="10/08/2024"
            [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('date_debut_contrat')?.invalid &&(formRemplace.get('date_debut_contrat')?.touched || formRemplace.get('date_debut_contrat')?.dirty),
            'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('date_debut_contrat')?.valid &&(formRemplace.get('date_debut_contrat')?.touched || formRemplace.get('date_debut_contrat')?.dirty)}"
             />
            @if(formRemplace.get('date_debut_contrat')?.invalid && formRemplace.get('date_debut_contrat')?.touched){
               @if(formRemplace.get('date_debut_contrat')?.hasError('required')){
                 
                     <div class="text-red-500 text-xs text-nowrap">Ce champs est obligatoire</div>
             }
           }
            <div *ngIf="formRemplace.controls['date_debut_contrat'].hasError('hors')" class="text-red-500 text-xs">
               La  date de debut  doit  inférieur à la date de fin.
             </div>
          </div>
          <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
            <label class="block required uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="date_fin">
              Date fin
            </label>
            <input formControlName="date_fin_contrat" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="date_fin" type="date" placeholder="10/08/2025"
            [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('date_fin_contrat')?.invalid &&(formRemplace.get('date_fin_contrat')?.touched || formRemplace.get('date_fin_contrat')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('date_fin_contrat')?.valid &&(formRemplace.get('date_fin_contrat')?.touched || formRemplace.get('date_fin_contrat')?.dirty)}"  
                  />
                  @if(formRemplace.get('date_fin_contrat')?.invalid && formRemplace.get('date_fin_contrat')?.touched){
                     @if(formRemplace.get('date_fin_contrat')?.hasError('required')){
                        
                           <div class="text-red-500 text-xs text-nowrap">Ce champs est obligatoire</div>
                   }
                  <div *ngIf="formRemplace.controls['date_fin_contrat'].hasError('hors')" class="text-red-500 text-xs">
                     La  date de fin  doit  supérieur à la date de debut.
                   </div>
                   <div *ngIf="formRemplace.controls['date_fin_contrat'].hasError('error')" class="text-red-500 text-xs">
                     Le Contrat doit durée maximun deux ans .
                   </div>
                 }
          </div>
          <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
            <label class="block required uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="autre_structure">
              Autre structure
            </label>
            <input formControlName="temps_presence_autre_structure_sonatel" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="autre_structure" type="number" placeholder="9"
            [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('temps_presence_autre_structure_sonatel')?.invalid &&(formRemplace.get('temps_presence_autre_structure_sonatel')?.touched || formRemplace.get('temps_presence_autre_structure_sonatel')?.dirty),
            'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('temps_presence_autre_structure_sonatel')?.valid &&(formRemplace.get('temps_presence_autre_structure_sonatel')?.touched || formRemplace.get('temps_presence_autre_structure_sonatel')?.dirty)}"  
            />
            @if(formRemplace.get('temps_presence_autre_structure_sonatel')?.invalid && formRemplace.get('temps_presence_autre_structure_sonatel')?.touched){
               @if(formRemplace.get('temps_presence_autre_structure_sonatel')?.hasError('required')){
                 
                     <div class="text-red-500 text-xs text-nowrap">Ce champs est obligatoire</div>
             }
           }
          </div>
        </div>
        <div class="flex flex-wrap -mt-1 -mx-3 mb-3">
            <div class="w-full md:w-1/2 px-3 mb-2 md:mb-0">
              <label  class="block required uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="DA">
                DA
              </label>
              <input formControlName="DA" (input)="numberSpace($event)" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="DA" type="text" placeholder="23309"
              [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('DA')?.invalid &&(formRemplace.get('DA')?.touched || formRemplace.get('DA')?.dirty),
              'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('DA')?.valid &&(formRemplace.get('DA')?.touched || formRemplace.get('DA')?.dirty)}"  
              />
              @if(formRemplace.get('DA')?.invalid && formRemplace.get('DA')?.touched){
                @if(formRemplace.get('DA')?.hasError('required')){
                  
                      <div class="text-red-500 text-xs">Ce champs est obligatoire</div>
              }
            }
            </div>
            <div class="w-full md:w-1/2 px-3">
              <label class="block required uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="DA_kangourou">
              DA Kangourou
              </label>
              <input formControlName="DA_kangourou" (input)="numberSpace($event)" class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500" id="DA_kangourou" type="text" placeholder="42309"
              [ngClass]="{'floating_outlined_error  dark:border-red-500 border-red-600 dark:focus:border-red-500 focus:outline-none focus:ring-0 focus:border-red-600':formRemplace.get('DA_kangourou')?.invalid &&(formRemplace.get('DA_kangourou')?.touched || formRemplace.get('DA_kangourou')?.dirty),
                  'floating_outlined_success  dark:border-green-500 border-green-600 dark:focus:border-green-500 focus:outline-none focus:ring-0 focus:border-green-600':formRemplace.get('DA_kangourou')?.valid &&(formRemplace.get('DA_kangourou')?.touched || formRemplace.get('DA_kangourou')?.dirty)}"  
                  />
                  @if(formRemplace.get('DA_kangourou')?.invalid && formRemplace.get('DA_kangourou')?.touched){
                    @if(formRemplace.get('DA_kangourou')?.hasError('required')){
                      
                          <div class="text-red-500 text-xs">Ce champs est obligatoire</div>
                  }
                }
            </div>
          </div>
       
      </form>


</mat-dialog-content>
<mat-dialog-actions align="end" class="space-x-3">
    <!-- [mat-dialog-close]="false" cdkFocusInitial -->
    <!-- [disabled]="formRemplace.invalid" -->
  <button type="button" mat-dialog-close class="btn btn-danger rounded-md text-white">Fermer</button>
  <button (click)="enregistrer()"   class="btn btn-success rounded-md text-white">Enregistrer</button>
</mat-dialog-actions>
